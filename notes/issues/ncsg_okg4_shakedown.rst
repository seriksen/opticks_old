ncsg_okg4_shakedown
======================


tboolean_torus with CPU side photons
---------------------------------------

Emitted input photons are exactly the same in both simulations, 
so should be able to get very close matching. After turn off things
scattering/absorption ? Perhaps use different flavors of vacuum to do this ? 



Difference in ox flags causes different np dumping::

    simon:ana blyth$ ox.py --det tboolean-torus  --tag 1 
    args: /Users/blyth/opticks/ana/ox.py --det tboolean-torus --tag 1
    [2017-11-01 18:21:31,501] p15395 {/Users/blyth/opticks/ana/ox.py:32} INFO - loaded ox /tmp/blyth/opticks/evt/tboolean-torus/torch/1/ox.npy 20171101-1515 shape (600000, 4, 4) 
    [[[-386.263  -310.873   400.        2.8685]
      [  -0.       -0.        1.        1.    ]
      [   0.       -1.        0.      380.    ]
      [   0.        0.        0.        0.    ]]

     [[ -14.892  -262.1473  400.        2.8685]
      [  -0.       -0.        1.        1.    ]
      [   0.       -1.        0.      380.    ]
      [   0.        0.        0.        0.    ]]

     [[ 333.2202 -201.3483  400.        2.8685]
      [  -0.       -0.        1.        1.    ]
      [   0.       -1.        0.      380.    ]
      [   0.        0.        0.        0.    ]]

     ..., 
     [[-174.9729 -400.      253.6111    2.8685]
      [  -0.       -1.       -0.        1.    ]
      [   0.        0.       -1.      380.    ]
      [   0.        0.        0.        0.    ]]

     [[ 259.2407 -400.     -149.578     2.8685]
      [  -0.       -1.       -0.        1.    ]
      [   0.        0.       -1.      380.    ]
      [   0.        0.        0.        0.    ]]

     [[ -64.378  -400.     -129.1872    2.8685]
      [  -0.       -1.       -0.        1.    ]
      [   0.        0.       -1.      380.    ]
      [   0.        0.        0.        0.    ]]]


::

    simon:ana blyth$ ox.py --det tboolean-torus  --tag -1 
    args: /Users/blyth/opticks/ana/ox.py --det tboolean-torus --tag -1
    [2017-11-01 18:21:48,799] p15402 {/Users/blyth/opticks/ana/ox.py:32} INFO - loaded ox /tmp/blyth/opticks/evt/tboolean-torus/torch/-1/ox.npy 20171101-1515 shape (600000, 4, 4) 
    [[[ -3.8626e+02  -3.1087e+02   4.0000e+02   2.8685e+00]
      [ -0.0000e+00  -0.0000e+00   1.0000e+00   1.0000e+00]
      [  0.0000e+00  -1.0000e+00   0.0000e+00   3.8000e+08]
      [  2.8026e-45   0.0000e+00   1.5400e-36   5.9191e-42]]

     [[ -1.4892e+01  -2.6215e+02   4.0000e+02   2.8685e+00]
      [ -0.0000e+00  -0.0000e+00   1.0000e+00   1.0000e+00]
      [  0.0000e+00  -1.0000e+00   0.0000e+00   3.8000e+08]
      [  2.8026e-45   0.0000e+00   1.5400e-36   5.9191e-42]]

     [[  3.3322e+02  -2.0135e+02   4.0000e+02   2.8685e+00]
      [ -0.0000e+00  -0.0000e+00   1.0000e+00   1.0000e+00]
      [  0.0000e+00  -1.0000e+00   0.0000e+00   3.8000e+08]
      [  2.8026e-45   0.0000e+00   1.5400e-36   5.9191e-42]]

     ..., 
     [[ -1.7497e+02  -4.0000e+02   2.5361e+02   2.8685e+00]
      [ -0.0000e+00  -1.0000e+00  -0.0000e+00   1.0000e+00]
      [  0.0000e+00   0.0000e+00  -1.0000e+00   3.8000e+08]
      [  2.8026e-45   0.0000e+00   1.5400e-36   5.9191e-42]]

     [[  2.5924e+02  -4.0000e+02  -1.4958e+02   2.8685e+00]
      [ -0.0000e+00  -1.0000e+00  -0.0000e+00   1.0000e+00]
      [  0.0000e+00   0.0000e+00  -1.0000e+00   3.8000e+08]
      [  2.8026e-45   0.0000e+00   1.5400e-36   5.9191e-42]]

     [[ -6.4378e+01  -4.0000e+02  -1.2919e+02   2.8685e+00]
      [ -0.0000e+00  -1.0000e+00  -0.0000e+00   1.0000e+00]
      [  0.0000e+00   0.0000e+00  -1.0000e+00   3.8000e+08]
      [  2.8026e-45   0.0000e+00   1.5400e-36   5.9191e-42]]]
    simon:ana blyth$ 


